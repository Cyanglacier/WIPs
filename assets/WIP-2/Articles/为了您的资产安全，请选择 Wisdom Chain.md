# 为了您的资产安全，请选择Wisdom Chain!


*安全，是你选择区块链的理由*


### 引言

还记得首次接触到“区块链”这个概念的时候，它给你的印象是怎样的呢？不论是被比特币的暴富神话吸引过来，亦或是被区块链技术精湛的设计所吸引，对于区块链是“信任的机器”这一点应当是无可置疑的，而区块链之所以成为信任的机器乃至价值互联网的基础，是基于各种数学算法和社会工程学设计所带来的“安全感”。在安全感的基础上，我们有了各种各样便捷可行的区块链项目，如以太坊、EOS等。然而，从中本聪发布的第一篇比特币白皮书开始，区块链技术数十年的发展却并没能体现真正意义上的“安全”——各种各样的黑客攻击事件层出不穷，程序设计导致的漏洞让资金如临深渊。虽然以太坊号称“世界计算机”，EOS被称作“企业级区块链”，但他们都不约而同的资产安全上出现了各种各样的纰漏。


### 以太坊的安全性问题

以太坊虽然不是最先实现智能合约的项目，但却是推动智能合约应用的先锋，然而智能合约如果不能被开发者安全、可靠地使用，其本身将成为以太坊价值互联网的阿喀琉斯之踵。以太坊为了适用智能合约采用了账户（Account）模型，并根据使用场景的不同采用了图灵完备编程语言和基于状态的EVM虚拟机，但上述特性也为以太坊带来了无可避免的黑客攻击事件。

The DAO事件是以太坊上最著名的一起智能合约攻击事件，在2016年黑客对The DAO智能合约发起攻击，通过当时智能合约存在的**Race Condition（可重入与竞态条件）**漏洞，让The DAO智能合约在调用函数时进行了多次函数调用，合约误判断攻击者的资金导致了漏洞出现，给了黑客窃取合约资金的机会。

!(RaceConditonBUG)[https://github.com/Cyanglacier/WIPs/blob/master/assets/WIP-2/Pictures/RaceConditionBUG.PNG?raw=true]

上述代码是以太坊智能合约中用于提取调用合约者的余额，然而如果调用合约者本身并非用户而是合约地址（二者地址格式几乎无差距），那么在该合约执行前将会优先执行被调用合约的代码，同样的如果被调用合约代码中指向了另一个合约地址，后者也会先于被调用合约执行。这种对外部合约的反复调用将会导致单个合约执行前逻辑状态的不断变化，最终导致各种意外情况的发生，这便是Race Condition漏洞，The DAO事件的缘由也在于此。

图灵完备和复杂的编程语言定义令以太坊虽然可以在设计上满足各种各样的金融需求，然而实际执行中由于复杂性较高，加上编程人员技术的参差不齐，合约漏洞往往难以避免。今年四月在以太坊DeFi概念中出现了三起攻击事件，分别是Uniswap的imBTC重入攻击，损失超30万美元；Lendf.me遭受类似Uniswap的重入攻击；Hegic代码错误造成28000美元用户资金永久无法访问。以太坊是否可以作为“价值互联网”仍需商榷。


### EOS的安全性问题

作为曾经的“以太坊杀手”，EOS虽然在系统架构与性能上针对以太坊做出了优化，然而仍旧不能避免安全性问题。EOS曾以大量的赌博类Dapp雄踞榜首，然而在2018年12月，这些Dapp都不约而同的遭受了黑客的攻击，黑客针对EOS设计上的独特性——通过21个超级节点（简称BP节点）进行智能合约运算并维护区块链，以及部分Dapp为了维持应用运行的高效性，采用本地节点执行Dapp结果并在之后上传结果，导致的BP节点和Dapp应用之间数据不同步的漏洞进行攻击

!(EOSDappAttackEvent)[https://github.com/Cyanglacier/WIPs/blob/master/assets/WIP-2/Pictures/EOS%E9%BB%91%E5%AE%A2.png?raw=true]

上述流程为2018年12月19日凌晨，BetDice遭受黑客攻击的示意图。黑客在向Dapp发送游戏请求后，又向BP节点发起交易取消的申请，并在Dapp的自建节点中参与到游戏过程中，假如游戏运算结果为黑客获胜，那么Dapp会向BP节点发起请求，向玩家发送胜利奖励，然而此时，BP节点根据时间顺序先后收到了“取消游戏”、“参与游戏”、“给予奖励”三个冲突请求，根据EOS规定的按照时间执行策略，“取消游戏”和“给予奖励”被执行而“参与游戏”执行失败，令黑客在不需要付出资金的情况下即可窃取Dapp奖池内的奖金。

除了智能合约漏洞导致的风险以外，由于EOS的DPoS机制，网络中心化程度相当严重，截至撰文时，EOS的21个节点中中国节点（包括设立在海外然而仍由国内控制的节点）多达11个，占据了全网出块节点50%以上。虽然权益证明在某种程度上提高了51%攻击的难度，但如果节点与节点之间达成了贿赂共识，EOS网络将会很容易遭受到51%攻击；如果某一地区聚集了大量的网络节点，在极端情况下该地区节点大量掉线也会导致网络的一过性宕机。对于EOS能否承载“价值互联网”，其要走的路还很漫长。


### 区块链3.0解决方案


由以太坊开创的区块链2.0时代，在给我们带来便利的同时也加剧了网络安全和网络价值的矛盾。针对于此许多项目为追求“价值互联网”的目标进行了不懈努力。Wisdom Chain是基于UTXO和可验证规则编程的第三代区块链解决方案，不同于以太坊和EOS，其采用了类似比特币的结构设计。

比特币的11年光阴中，除了早期代码原因导致的数起漏洞以外，直至今日几乎比特币鲜有遭受黑客的直接攻击，黑客攻击目标多为接纳比特币交易的交易所或其他中间机构，而非对比特币协议进行攻击。比特币设计的安全性有目共睹，然而比特币并不完善的脚本语言和10分钟的出块间隙，以及1.5M（在隔离见证下）的区块大小严重限制了比特币在金融领域的应用。虽然各种Layer2解决方案蜂拥而起（例如闪电网络和OMNI协议），但Layer2本身并不能享受比特币的安全性。如何做到比特币的安全性和以太坊的灵活性两手抓？答案便是Wisdom Chain的可验证的规则编程模式。

所谓“可验证的规则编程”，即通过规则而非合约程序约束事务执行范围。规则是一种静态的定义，不同于以太坊智能合约，规则只能由外部事务触发，无法内部触发，且为非图灵完备，以避免代码问题导致的不安全设计，降低人为因素导致网络价值流失的可能性。目前，Wisdom Chain设计的规则语法包括了资产定义、多重签名、条件支付、存证、抵押、投票等。这些规则硬编码进核心中，避免黑客对规则进行直接攻击，而开发者在使用时只需要填充相应的属性值与动态值，即可通过模板引擎来实现相应的“智能合约”**（在Wisdom Chain中被称作“事务”）**。做到安全与灵活性二者的兼顾。

除此以外，Wisdom Chain的PoW+DPoS设计，最多30s的出块时间，最高4M的区块大小，以及票权流失机制，在保证区块链运行效率的同时，尽力避免EOS系统架构中出现的中心化风险。矿工也并非需要比特币那般专用矿机，只要达到质押标准，普通的家用电脑也可参与到Wisdom Chain的挖矿流程中，真正做到中本聪在白皮书中所说的“1CPU1票”。

Wisdom Chain是区块链朝阳的沐浴者，我们仍在起步过程中，虽然从主网启动至今仅1年时间，但在架构设计上，Wisdom Chain已能承载“价值互联网”头冠之重。Wisdom Chain不仅仅确保了用户的数字资产安全，正如其创世区块所言，**“让信用前所未有地流动，让无限的想象可能发挥，让无穷的价值可以体现直到星球的每个角落”**，真正实现价值互联网才是Wisdom Chain的终极目标。
